# ==============================================================================
# Google Researcher MCP Server Environment Variables
# ==============================================================================
#
# Copy this file to .env and fill in the required values.
# The server will automatically load these variables on startup.

# ------------------------------------------------------------------------------
# Required: External API Keys
# ------------------------------------------------------------------------------

# Google Custom Search API Key
# Used by the `google_search` tool.
# Get one from: https://developers.google.com/custom-search/v1/introduction
# Format: alphanumeric string, typically 39 characters (e.g., AIzaSy...)
GOOGLE_CUSTOM_SEARCH_API_KEY=YOUR_API_KEY_HERE

# Google Custom Search Engine ID
# Required for the `google_search` and `search_and_scrape` tools.
# Create one at: https://programmablesearchengine.google.com/
# Format: alphanumeric with colons, typically like "017576662512468239146:omuauf_gy1x"
GOOGLE_CUSTOM_SEARCH_ID=YOUR_SEARCH_ENGINE_ID_HERE

# ------------------------------------------------------------------------------
# Required for HTTP Transport: OAuth 2.1 Configuration
# ------------------------------------------------------------------------------
# These are mandatory if you intend to use the HTTP/SSE transport, which is
# protected by OAuth 2.1. They are not required for the STDIO transport.

# The base URL of your external OAuth 2.1 Authorization Server.
# The server will fetch the JWKS from `${OAUTH_ISSUER_URL}/.well-known/jwks.json`.
# Example: https://your-auth-provider.com/
OAUTH_ISSUER_URL=

# The audience value that your Authorization Server includes in its JWTs.
# The MCP server will reject any tokens that do not have this audience.
# Example: https://api.your-domain.com
OAUTH_AUDIENCE=

# ------------------------------------------------------------------------------
# Optional: Server and Transport Configuration
# ------------------------------------------------------------------------------

# Port for the HTTP/SSE server.
# Default: 3000
# PORT=3000

# Allowed origins for CORS, separated by commas without spaces.
# Required if your web client is hosted on a different domain.
# Example: http://localhost:8080,https://your-frontend.com
# ALLOWED_ORIGINS=

# ------------------------------------------------------------------------------
# Optional: SSRF Protection Configuration
# ------------------------------------------------------------------------------

# Allow scraping of private/internal IP addresses (e.g., localhost).
# Useful for local development when scraping localhost services.
# Protocol checks and cloud metadata blocks remain active.
# Default: false
# ALLOW_PRIVATE_IPS=true

# Restrict scraping to specific domains (comma-separated, bare domain names).
# When set, only these domains and their subdomains can be scraped.
# When not set, all public domains are allowed.
# Do NOT include http:// or paths â€” just the domain name.
# Example: example.com,github.com,docs.google.com
# ALLOWED_DOMAINS=example.com,github.com

# ------------------------------------------------------------------------------
# Optional: Playwright / Chromium Configuration
# ------------------------------------------------------------------------------

# Custom path for Playwright browser binaries.
# Useful for Docker or CI environments with pre-installed browsers.
# Default: managed automatically by Playwright
# PLAYWRIGHT_BROWSERS_PATH=/path/to/browsers

# ------------------------------------------------------------------------------
# Optional: Cache Administration
# ------------------------------------------------------------------------------

# API key for cache admin endpoints (invalidate, persist, clear).
# When unset, admin endpoints return 503 (disabled).
# Set to any strong secret string to enable cache management via the Management API.
# CACHE_ADMIN_KEY=your-strong-secret-key-here

# Cache and event store data is stored in ./storage/ relative to the project root.
# TTL and cache size are configured as constants in server.ts.

# ------------------------------------------------------------------------------
# Optional: Event Store Encryption
# ------------------------------------------------------------------------------

# AES-256-GCM encryption key for the event store (64 hex characters = 32 bytes).
# When set, all events are encrypted at rest. Generate with:
#   node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
# EVENT_STORE_ENCRYPTION_KEY=

# ------------------------------------------------------------------------------
# Optional: Rate Limiting (HTTP transport only)
# ------------------------------------------------------------------------------

# Time window for rate limiting in milliseconds.
# Default: 60000 (1 minute)
# RATE_LIMIT_WINDOW_MS=60000

# Maximum number of requests per window per client.
# Default: 100
# RATE_LIMIT_MAX_REQUESTS=100